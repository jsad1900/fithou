---
layout: post
title:  "C11CAVE - Hang động"
categories: []
code: C11CAVE
src: C11CAVE.cpp
---

Bài toán có thể đưa về đơn giản như sau: Cho đoạn `1..h`, cho `n` truy vấn, mỗi truy vấn tăng đoạn `l..r` lên một đơn vị. Yêu cầu tim ra đoạn i..i có tổng nhỏ nhất và đếm số lượng này. Bài này có thể dùng Segment Tree trong O(NlogN). Nhưng thực tế chỉ cần O(N) với nhận xét sau:

Gọi `F[i]` là giá trị tại đoạn `i..i`. Khi có truy vấn `l..r`, ta tăng `F[l]` lên 1 và giảm `F[r+1]` đi 1. Khi hết truy vấn, ta duyệt từ 1..h và cộng F[i] thêm F[i-1]. Khi đó với mỗi đoạn l..r của truy vấn `F[i](l<i<=r+1)` sẽ tăng lên 1, với F[r+1] ban đầu ta đã trừ nên không có sự thay đổi. Vì thể chỉ thực hiện trong O(N).
